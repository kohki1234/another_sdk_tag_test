<html>

<head>
    <script type="text/javascript">
    !function(t,e){if(void 0===e[t]){e[t]=function(){e[t].clients.push(this),this._init=[Array.prototype.slice.call(arguments)]},e[t].clients=[];for(var r=function(t){return function(){return this["_"+t]=this["_"+t]||[],this["_"+t].push(Array.prototype.slice.call(arguments)),this}},s=["blockEvents","fetchServerCookie","unblockEvents","setSignedMode","setAnonymousMode","resetUUID","addRecord","fetchGlobalID","set","trackEvent","trackPageview","trackClicks","ready", "fetchUserSegments","getCookie", "fetchServerCookie"],n=0;n<s.length;n++){var o=s[n];e[t].prototype[o]=r(o)}var c=document.createElement("script");c.type="text/javascript",c.async=!0,c.src=("https:"===document.location.protocol?"https:":"http:")+"//cdn.treasuredata.com/sdk/3.1/td.min.js";var a=document.getElementsByTagName("script")[0];a.parentNode.insertBefore(c,a)}}("Treasure",this); 
        // Configure an instance for your database
        var td = new Treasure({
            host: 'in.treasuredata.com',
          writeKey: '10452/de7bec368253e78d34c4ff6c9d52145a32f117b9',
          database: 'master_segment_test_kohki'
        });


        td.set('$global', 'td_global_id', 'td_global_id');
        td.trackPageview('js_sdk_data_test_70491');
        td.trackEvent('js_sdk_data_test_70491', {
               id: 6,
               type: 'td.trackEvent',
               comment: 'real-time segment test',
               another_time_col: 1707394020
           });

        function buttonClick(){
            console.log('button was clicked')
            var params = {
                td_client_id: 'td_client_id',
                itemId: 101,
                saleId: 10,
                userId: 1,
                button_click: 'button is pressed',
                type: 'td.addRecord'
                };

            td.trackClicks()

            // td_client_idなどのデフォルトで計測されるカラムを含めず(指定したレコードのみ計測される)
            td.addRecord('kohki_test_rename', params);

            // td_client_idなどのデフォルトで計測されるカラムを含めてレコードが記録される
            td.trackEvent('track_events', {
               id: 1,
               type: 'td.trackEvent'
           });
        }
    
        var successCallback = function (values) {
            console.log(values)
            };

            var errorCallback = function (error) {
            console.log('Profile API got error')
            };

            td.fetchUserSegments({
            audienceToken: ['dcca7b69-ec28-4610-a335-8d5be4237269'],
            keys: {
                id: '6'
            }
            }, successCallback, errorCallback)
    </script>

    <!-- =======================================================
  Start https://cookieconsent.insites.com/ tag
  ======================================================= -->
    <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/cookieconsent2/3.1.0/cookieconsent.min.css" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/cookieconsent2/3.1.0/cookieconsent.min.js"></script>
    <script>
        window.addEventListener("load", function() {
            window.cookieconsent.initialise({
                "palette": {
                    "popup": {
                        "background": "#3c404d",
                        "text": "#d6d6d6"
                    },
                    "button": {
                        "background": "#8bed4f"
                    }
                },
                "type": "opt-out",
                "revokable": true,
                onStatusChange: function(status) {
                    this.hasConsented() ? td.setSignedMode() : td.setAnonymousMode();
                },
            })
        });
    </script>
</head>

<body>

    <!-- <button id="btn" onclick="buttonClick()">表示</button> -->

    <br>
    <a href="https://www.homepage-tukurikata.com/html/a-href.html" id="btn" onclick="buttonClick()">リンク推移</a>

    <br>
    <button id="fakebutton" onclick="buttonClick()">Fake button</button>
    <a href="https://test@example.com" >click</a>

    <br>
    <br>

    <div style="padding:20px">
        <code >
            REAL TIME SEGMENT検証
            <br>
            SELECT 2
        </code>

    </div>

    <div>

        <iframe id="ifm" name="ifm" width="100%" height="100%" frameborder="0" src="https://us01-02.reporting.treasuredata.com/app/main/dashboards/63878ec3e0243600374514e4?embed=true" scrolling="auto"></iframe>


    </div>

    <div>

        <iframe id="ifm" name="ifm" width="100%" height="100%" frameborder="0" src="https://td-us01-02.sisense.com/app/main#/dashboards/63878ec3e0243600374514e4" scrolling="auto"></iframe>
    </div>


</body>

</html>